using Pkg
Pkg.add("Polynomials")



using Polynomials

function p(x)
    result = (x - 20) * (x - 19) * (x - 18) * (x - 17) * (x - 16) * (x - 15) *
             (x - 14) * (x - 13) * (x - 12) * (x - 11) * (x - 10) *
             (x - 9) * (x - 8) * (x - 7) * (x - 6) * (x - 5) *
             (x - 4) * (x - 3) * (x - 2) * (x - 1)

    return result
end

# Współczynniki podane w pliku są w odwrotnej kolejności - od najwyższego stopnia do najmniejszego. Trzeba odwrócić dla programu.
coefficients = [1, -210.0, 20615.0,-1256850.0,
      53327946.0,-1672280820.0, 40171771630.0, -756111184500.0,          
      11310276995381.0, -135585182899530.0,
      1307535010540395.0,     -10142299865511450.0,
      63030812099294896.0,     -311333643161390640.0,
      1206647803780373360.0,     -3599979517947607200.0,
      8037811822645051776.0,      -12870931245150988800.0,
      13803759753640704000.0,      -8752948036761600000.0,
      2432902008176640000.0]

coefficients_b = [1, -210.0 - (2^-23) , 20615.0,-1256850.0,
      53327946.0,-1672280820.0, 40171771630.0, -756111184500.0,          
      11310276995381.0, -135585182899530.0,
      1307535010540395.0,     -10142299865511450.0,
      63030812099294896.0,     -311333643161390640.0,
      1206647803780373360.0,     -3599979517947607200.0,
      8037811822645051776.0,      -12870931245150988800.0,
      13803759753640704000.0,      -8752948036761600000.0,
      2432902008176640000.0]

P = Polynomial(reverse(coefficients_b))
r = roots(P)

println("Wielomian ma $(length(r)) pierwiastków zespolonych.")

for (i, root) in enumerate(r)
    println("$i. x: $root => |p(x)| = $(abs(p(root))) |P(x)| = $(abs(P(root))) |x - k| = $(abs(root - i))")
end

# W = Polynomial([3.0, -2.0])

# println("W(1) = ", W(1), " W(4) = ", W(4))